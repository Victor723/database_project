-- Feel free to modify this file to match your development goal.
-- Here we only create 3 tables for demo purpose.

-- CREATE TABLE Users (
--     id INT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
--     email VARCHAR UNIQUE NOT NULL,
--     password VARCHAR(255) NOT NULL,
--     firstname VARCHAR(255) NOT NULL,
--     lastname VARCHAR(255) NOT NULL
-- );\\

-- CREATE TABLE Products (
--     id INT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
--     name VARCHAR(255) UNIQUE NOT NULL,
--     price DECIMAL(12,2) NOT NULL,
--     available BOOLEAN DEFAULT TRUE
-- );

-- CREATE TABLE Purchases (
--     id INT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
--     uid INT NOT NULL REFERENCES Users(id),
--     pid INT NOT NULL REFERENCES Products(id),
--     time_purchased timestamp without time zone NOT NULL DEFAULT (current_timestamp AT TIME ZONE 'UTC')
-- );

CREATE TABLE Users (
    u_userkey BIGINT NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    u_email VARCHAR(255) UNIQUE NOT NULL,
    u_firstname VARCHAR(255) NOT NULL,
    u_lastname VARCHAR(255) NOT NULL,
    u_password VARCHAR(255) NOT NULL,
    u_balance DECIMAL(10, 2) DEFAULT 0.00 CHECK (u_balance >= 0),
    u_companyname VARCHAR(255),
    u_streetaddress VARCHAR(255) NOT NULL,
    u_city VARCHAR(100) NOT NULL,
    u_stateregion VARCHAR(100),
    u_zipcode VARCHAR(20) NOT NULL,
    u_country VARCHAR(100) NOT NULL,
    u_phonenumber VARCHAR(20)
);
