{% extends "base.html" %}

{% block content %}

<h1>Enter User ID to View Cart</h1>

<!-- Form for user to enter their ID -->
<form method="POST" action="{{ url_for('carts.carts') }}" class="container my-4">
    <div class="form-group">
        <label for="user_id">User ID:</label>
        <input type="text" id="user_id" name="user_id" class="form-control" required>
    </div>
    <input type="submit" value="Get Cart" class="btn btn-primary">
</form>

<!-- Check if cart_items is defined -->
{% if cart_items is defined %}
<h2>Cart for User ID: {{ user_id }}</h2>
<table class='table table-hover table-bordered container'>
    <thead class="thead-dark">
        <tr>
            <th scope="col">Product Name</th>
            <th scope="col">Seller FirstName</th>
            <th scope="col">Seller LastName</th>
            <th scope="col">Price($)</th>
            <th scope="col">Save For Later Quantity</th>
            <th scope="col">In-Cart Quantity</th>
        </tr>
    </thead>
    <tbody>
        {% for item in cart_items %}
        <tr>
            <td>{{ item.p_productname }}</td>
            <td>{{ item.u_firstname }}</td>
            <td>{{ item.u_lastname }}</td>
            <td>{{ item.ps_price }}</td>
            <td>{{ item.pc_savequantity }}</td>
            <td>{{ item.pc_incartquantity }}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="6">No items in the cart.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endif %}

{% endblock %}
