{% extends "base.html" %}

{% block content %}
<style>
  .login-container {
    max-width: 500px;
    margin: auto;
    padding-top: 50px;
  }

  .signup-link-container {
    margin-top: 30px;
    text-align: center;
    display: block;
  }

  .login-form {
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, .05);
  }

  .login-form h1 {
    text-align: center;
    color: #333;
  }

  .login-form .form-control {
    border-radius: 20px;
    padding: 25px;
    font-size: 16px;
  }

  .login-form .form-group {
    margin-bottom: 15px;
  }

  .login-form .btn {
    width: 100%;
    border-radius: 20px;
    padding: 10px;
    font-size: 18px;
  }

  /* Adjust colors, hover effects, etc., as per the design */
  .login-form .btn-primary {
    background-color: #007bff;
    border-color: #007bff;
  }

  .sign-up-link {
    text-align: center;
    display: block;
    margin-top: 20px;
  }



  /* Ensures the border color stays consistent during focus */
  .form-control:focus {
    border-color: #80bdff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
  }

  .input-group .form-control {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  .input-group .form-control,
  .input-group .input-group-text {
    border-color: #ced4da;
    /* matching Bootstrap's default border color */
  }

  /* This will ensure that the input group's children are properly aligned */
  .input-group>.form-control,
  .input-group>.input-group-prepend>.input-group-text {
    display: flex;
    align-items: center;
    padding: 0.375rem 0.75rem;
  }

  /* Adjust the size of the icon */
  .input-group-text .fas {
    font-size: 0.9rem;
    /* you can adjust the size as needed */
  }

  .input-group-text {
    background-color: #fff;
    /* Set the background color to white */
    border-top: 1px solid #ced4da;
    border-bottom: 1px solid #ced4da;
    border-left: 1px solid #ced4da;
    border-right: none;
    /* Remove the right border to visually connect the icon */
  }

  .form-control {
    border: 1px solid #ced4da;
    /* Ensure the input has a full border */
    border-radius: 20px;
    /* Rounded corners for the input field */
    /* border-left: none; */
    /* Remove the left border to visually connect to the icon */
  }

  /* Use this if .input-group-prepend is also being used */
  .input-group-prepend .input-group-text {
    border-right: none;
    /* Remove the right border */
  }

  .input-group-append {
    border-left: none;
    /* This ensures that no left border is applied to the append element */
  }

  /* Ensure the password field does not have a right border */
  .input-group .form-control.password {
    border-right: none !important;
  }

  /* Matching the input field border styles for the button */
  .toggle-password {
    border: 1px solid #ced4da;
    /* Match the border width and color */
    border-left: none;
    /* Remove the left border to make it seamless */
    border-radius: 0 20px 20px 0;
    /* Match the border radius (top-right and bottom-right corners) */
    outline: none;
    /* Removes the outline to prevent a focus ring */
    background: transparent;
    /* Ensures the button has no background color */
    padding: 0.375rem 0.75rem;
    /* Adjust padding to match the input field */
    cursor: pointer;
    /* Changes the mouse cursor to a pointer on hover */
  }

  /* Adjust the icon size and alignment if necessary */
  .toggle-password .fas {
    font-size: 1rem;
    /* Example size, adjust as needed */
    vertical-align: middle;
    /* Centers the icon vertically */
  }

  /* When the button is clicked or focused, ensure no additional borders appear */
  .toggle-password:focus,
  .toggle-password:active {
    box-shadow: none;
    /* Remove Bootstrap's default focus glow */
    position: relative;
    /* To prevent shifting when the border changes */
  }
</style>
<div class="login-container">




  <form class="login-form" action="" method="post">

    <h1>Create account</h1>

    {{ form.hidden_tag() }}

    <div class="form-group" style="margin-top: 40px;">
      {{ form.firstname.label }}<span style="color: red;">*</span><br />
      <div class="input-group">
        {{ form.firstname(class_="form-control", placeholder="") }}
      </div>
      {% for error in form.firstname.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.lastname.label }}<span style="color: red;">*</span><br />
      <div class="input-group">
        {{ form.lastname(class_="form-control", placeholder="") }}
      </div>
      {% for error in form.lastname.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.email.label }}<span style="color: red;">*</span><br />
      <div class="input-group">
        {{ form.email(class_="form-control", placeholder="") }}
      </div>
      {% for error in form.email.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.password.label }}<span style="color: red;">*</span><br />
      <div class="input-group">
        {{ form.password(class_="form-control password", placeholder="") }}
        <div class="input-group-append">
          <button class="toggle-password" type="button" onclick="togglePasswordVisibility('password')">
            <i class="fas fa-eye"></i>
          </button>
        </div>
      </div>
      {% for error in form.password.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>

    <div class="form-group">
      {{ form.password2.label }}<span style="color: red;">*</span><br />
      <div class="input-group">
        {{ form.password2(class_="form-control password", placeholder="") }}
        <div class="input-group-append">
          <button class="toggle-password" type="button" onclick="togglePasswordVisibility('password2')">
            <i class="fas fa-eye"></i>
          </button>
        </div>
      </div>
      {% for error in form.password2.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>


    <!-- Additional fields for registration -->
    <div class="form-group">
      {{ form.companyname.label }}
      <div class="input-group">
        {{ form.companyname(class="form-control", placeholder="") }}
      </div>
      {% for error in form.companyname.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>


    <div class="form-group">
      {{ form.streetaddress.label }}
      <div class="input-group">
        {{ form.streetaddress(class_="form-control", placeholder="") }}
      </div>
      {% for error in form.streetaddress.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        {{ form.city.label(class="form-label") }}
        <div class="input-group">
          {{ form.city(class="form-control", placeholder=current_user.city) }}
        </div>
      </div>
      <div class="form-group col-md-6">
        {{ form.zipcode.label(class="form-label") }}
        <div class="input-group">
          {{ form.zipcode(class="form-control", placeholder=current_user.zipcode) }}
        </div>
      </div>
    </div>

    <div class="form-row">
      <div class="form-group col-md-6">
        {{ form.stateregion.label(class="form-label") }}
        <div class="input-group">
          {{ form.stateregion(class="form-control", placeholder=current_user.stateregion) }}
        </div>
      </div>
      <div class="form-group col-md-6">
        {{ form.country.label(class="form-label") }}
        <div class="input-group">
          <select class="form-control" id="{{ form.country.id }}" name="{{ form.country.name }}">
            {% for code, name in form.country.choices %}
            <option value="{{ code }}" {% if current_user.country==code %}selected{% endif %}>{{ name }}</option>
            {% endfor %}
          </select>
        </div>
      </div>
    </div>

    <div class="form-group" style="margin-bottom: 40px;">
      {{ form.phonenumber.label }}
      <div class="input-group">
        {{ form.phonenumber(class_="form-control", placeholder="") }}
      </div>
      {% for error in form.phonenumber.errors %}
      <span style="color: red;">[{{ error }}]</span>
      {% endfor %}
    </div>

    <p>{{ form.submit_user(class_="btn btn-primary") }}</p>
    <p>{{ form.submit_seller(class_="btn btn-primary") }}</p>
  </form>
</div>

<script>
  function togglePasswordVisibility(passwordFieldId) {
    var passwordInput = document.getElementById(passwordFieldId);
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
    } else {
      passwordInput.type = 'password';
    }
  }
</script>


{% endblock %}